<p-toast />
<p-confirmDialog />
<main class="content-main">
    <p-card>
        <div class="flex justify-content-space-between align-items-center">
            <h2>Calendários</h2>
            <p-button
                pRipple
                label="Novo"
                icon="pi pi-check"
                class="p-button-primary p-button-height-default"
                routerLink="/admin/calendarios/novo"
                size="small"
            ></p-button>
        </div>
        <hr />
        <div
            *ngFor="
                let calendarsBySpiritCenter of calendarsBySpiritCenter | keyvalue
            "
        >
            <h4>{{ calendarsBySpiritCenter.key }}</h4>
            <p-table
                class="w-100"
                [value]="calendarsBySpiritCenter.value"
                [tableStyle]="{ 'min-width': '50rem' }"
            >
                <ng-template pTemplate="header">
                    <tr>
                        <th>Ano</th>
                        <th>Semestre</th>
                        <th style="width: 10%">Ações</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-calendar let-index="rowIndex">
                    <tr>
                        <td>{{ calendar.ano }}</td>
                        <td>{{ calendar.semestre }}</td>
                        <td>
                            <div class="flex gap-2">
                                <p-button
                                    icon="pi pi-pencil"
                                    severity="warning"
                                    [disabled]="true"
                                />
                                <p-button
                                    icon="pi pi-trash"
                                    severity="danger"
                                    (click)="
                                        onConfirmDialog(
                                            $event,
                                            index,
                                            calendarsBySpiritCenter.key
                                        )
                                    "
                                />
                            </div>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </p-card>
</main>
